<!DOCTYPE html>
<html lang="km">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wedding Invitation</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Moulpali&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Kantumruy+Pro&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Khmer OS Siemreap', Arial, sans-serif;
            overflow-x: hidden;
            background: #f5f0eb;
            -webkit-tap-highlight-color: transparent;
        }

        /* Welcome Screen */
        .welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, #f5f0eb 0%, #e8ddd0 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            cursor: pointer;
            transition: opacity 1s ease;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        .welcome-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .rings-container {
            position: relative;
            margin-bottom: 40px;
            animation: float 3s ease-in-out infinite;
        }

        .rings-img {
            width: 200px;
            height: auto;
            border-radius: 50%;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }

        .hearts {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: pulse 2s ease-in-out infinite;
        }

        .tap-text {
            font-size: 1.2rem;
            color: #8b7355;
            animation: bounce 2s infinite;
            margin-top: 20px;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        @keyframes pulse {

            0%,
            100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }

            50% {
                transform: translate(-50%, -50%) scale(1.2);
                opacity: 0.8;
            }
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        /* Main Content */
        .main-content {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 1s ease, transform 1s ease;
        }

        .main-content.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            background: linear-gradient(rgba(143, 142, 141, 0.6), rgba(143, 142, 141, 0.6)),
                url('images/a1.jpg') center/cover no-repeat;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
            -webkit-touch-callout: none;
        }

        .title-khmer {
            font-size: 2.5rem;
            color: #ffffff;
            margin-bottom: 20px;
            animation: fadeInDown 1s ease 0.3s both;
        }

        .couple-names {
            font-size: 3rem;
            color: #ffffff;
            margin: 20px 0;
            line-height: 1.4;
            animation: fadeInDown 1s ease 0.5s both;
        }

        .heart-divider {
            width: 100px;
            height: 30px;
            margin: 20px auto;
            animation: fadeIn 1s ease 0.7s both;
        }

        .english-names {
            font-size: 2rem;
            color: #ffffff;
            margin: 20px 0;
            animation: fadeInUp 1s ease 0.8s both;
        }

        .floating-hearts {
            position: absolute;
            width: 48px;
            height: 48px;
            top: 18%;
            right: calc(50% - 24px);
            pointer-events: none;
            z-index: 5;
            opacity: 0.95;
        }

        .floating-hearts img.hearts-gif {
            width: 150%;
            height: 150%;
            object-fit: contain;
            display: block;
        }

        .inline-hearts {
            width: 28px;
            height: 28px;
            vertical-align: middle;
            margin: 10px 0;
            object-fit: contain;
        }

        .couple-names img.hearts-gif {
            width: 40px;
            height: auto;
            display: block;
            margin: 0 auto 5px;
            object-fit: contain;
        }

        .decorative-frame {
            width: min(90%, 680px);
            max-width: 680px;
            height: 86px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            animation: fadeIn 1s ease 0.9s both;
            background-image: url('images/frame_1.png');
            background-repeat: no-repeat;
            background-position: center;
            background-size: 100% 100%;
        }

        .decorative-frame::before,
        .decorative-frame::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            border: 2px solid #d4a574;
        }

        .decorative-frame::before {
            top: -10px;
            left: -2px;
            border-right: none;
            border-bottom: none;
        }

        .decorative-frame::after {
            bottom: -2px;
            right: -2px;
            border-left: none;
            border-top: none;
        }

        .parents-blessing {
            font-size: 1.3rem;
            color: #8b7355;
            margin: 20px 0;
            line-height: 1.8;
        }

        /* Date & Location */
        .date-location {
            background: white;
            padding: 60px 20px;
            text-align: center;
        }

        .date-box {
            background: linear-gradient(135deg, #f5f0eb 0%, #e8ddd0 100%);
            padding: 40px;
            border-radius: 15px;
            max-width: 600px;
            margin: 0 auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }

        .date-text {
            font-size: 1.5rem;
            color: #ffffff;
            margin: 15px 0;
            line-height: 1.8;
        }

        .location-name {
            font-size: 1.8rem;
            color: #d4a574;
            margin-top: 30px;
            font-weight: bold;
        }

        /* Engagement Photo */
        .engagement-section {
            padding: 60px 20px;
            background: #f5f0eb;
            text-align: center;
        }

        .engagement-photo {
            max-width: 500px;
            width: 100%;
            border-radius: 15px;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2);
            margin: 30px auto;
            display: block;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }

        /* CENTERED DECORATIVE BORDER SECTION */
        .centered-border-section {
            padding: 80px 20px;
            background: white;
            text-align: center;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 400px;
        }

        .border-container {
            position: relative;
            width: 90%;
            max-width: 800px;
            margin: 0 auto;
        }

        .border-top-img {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 50%;
            max-width: 800px;
            height: auto;
            z-index: 2;
        }

        .border-content {
            position: relative;


            border-radius: 10px;

            z-index: 1;
            box-shadow: none;
        }

        .border-text {
            font-size: 1.3rem;
            color: #8b7355;
            line-height: 2;
            text-align: center;
            margin: 0;
        }

        .border-bottom-img {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 50%;
            max-width: 800px;
            height: auto;
            z-index: 2;
        }

        .border-text-font-f {
            font-family: 'Moulpali', sans-serif;
            ;
        }

        .border-text-font-f1 {
            font-family: 'Kantumruy Pro', sans-serif;
            ;
        }

        /* Calendar Button */
        .calendar-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 30px;
            padding: 16px 40px;
            background: linear-gradient(135deg, #d4a574 0%, #c09563 100%);
            color: white;
            text-decoration: none;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(212, 165, 116, 0.3);
            cursor: pointer;
            border: none;
            font-family: inherit;
            width: 100%;
            max-width: 300px;
            -webkit-tap-highlight-color: rgba(212, 165, 116, 0.3);
            touch-action: manipulation;
        }

        .calendar-btn:hover,
        .calendar-btn:active {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(212, 165, 116, 0.4);
            background: linear-gradient(135deg, #c09563 0%, #a87d4c 100%);
        }

        .calendar-btn:active {
            transform: translateY(-1px);
        }

        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .title-khmer {
                font-size: 1.8rem;
            }

            .couple-names {
                font-size: 2rem;
            }

            .english-names {
                font-size: 1.5rem;
            }

            .date-text {
                font-size: 1.2rem;
            }

            .rings-img {
                width: 150px;
            }

            .floating-hearts {
                width: 120px;
                height: 120px;
                top: 5%;
                right: 5%;
            }

            .border-text {
                font-size: 1.1rem;
            }

            .border-content {
                padding: 70px 20px;
            }

            .calendar-btn {
                padding: 18px 30px;
                font-size: 1.2rem;
            }
        }

        @media (max-width: 480px) {
            .calendar-btn {
                padding: 16px 20px;
                font-size: 1.1rem;
            }

            .border-content {
                padding: 60px 15px;
            }

            .centered-border-section {
                padding: 60px 15px;
            }
        }

        /* Music Control */
        .music-control {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: #d4a574;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            z-index: 999;
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        .music-control:hover {
            transform: scale(1.1);
            background: #c09563;
        }

        .music-control::before {
            content: 'üéµ';
            font-size: 1.5rem;
        }

        .music-control.paused::before {
            content: 'üîá';
        }

        /* Success Message */
        .success-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            z-index: 1001;
            display: none;
            align-items: center;
            gap: 10px;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }

            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }
    </style>
</head>

<body>
    <!-- Welcome Screen -->
    <div class="welcome-screen" id="welcomeScreen">
        <div class="rings-container">
            <svg class="rings-img" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="goldGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#f4e5c2;stop-opacity:1" />
                        <stop offset="50%" style="stop-color:#d4a574;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#c09563;stop-opacity:1" />
                    </linearGradient>
                </defs>

                <!-- Background circle -->
                <circle cx="100" cy="100" r="95" fill="#f5f0eb" stroke="#e8ddd0" stroke-width="2" />

                <!-- Left ring -->
                <ellipse cx="80" cy="100" rx="25" ry="35" fill="none" stroke="url(#goldGradient)" stroke-width="8"
                    transform="rotate(-15 80 100)" />
                <ellipse cx="80" cy="100" rx="20" ry="30" fill="none" stroke="url(#goldGradient)" stroke-width="3"
                    transform="rotate(-15 80 100)" />

                <!-- Right ring with diamonds -->
                <ellipse cx="120" cy="100" rx="25" ry="35" fill="none" stroke="url(#goldGradient)" stroke-width="8"
                    transform="rotate(15 120 100)" />
                <ellipse cx="120" cy="100" rx="20" ry="30" fill="none" stroke="url(#goldGradient)" stroke-width="3"
                    transform="rotate(15 120 100)" />

                <!-- Diamonds on right ring -->
                <circle cx="120" cy="75" r="3" fill="white" opacity="0.9" />
                <circle cx="115" cy="80" r="2" fill="white" opacity="0.7" />
                <circle cx="125" cy="80" r="2" fill="white" opacity="0.7" />
                <circle cx="120" cy="85" r="2.5" fill="white" opacity="0.8" />
            </svg>

            <svg class="hearts" width="80" height="80" viewBox="0 0 100 100">
                <!-- Larger heart -->
                <path
                    d="M50,85 C50,85 20,65 20,45 C20,30 30,25 40,35 C45,40 50,45 50,45 C50,45 55,40 60,35 C70,25 80,30 80,45 C80,65 50,85 50,85 Z"
                    fill="#e91e63" stroke="#c2185b" stroke-width="2" />

                <!-- Smaller heart -->
                <path
                    d="M75,35 C75,35 65,28 65,20 C65,15 68,13 71,17 C73,19 75,22 75,22 C75,22 77,19 79,17 C82,13 85,15 85,20 C85,28 75,35 75,35 Z"
                    fill="#f48fb1" stroke="#f06292" stroke-width="1.5" />
            </svg>
        </div>
        <div class="tap-text">üëÜ ·ûÖ·ûª·ûÖ‚Äã·ûä·ûæ·ûò·üí·ûî·û∏‚Äã·ûî·ûæ·ûÄ</div>
    </div>

    <!-- Success Message -->
    <div class="success-message" id="successMessage">
        <span>‚úÖ</span> ·ûî·û∂·ûì·ûî·ûâ·üí·ûÖ·ûº·ûõ·ûë·üÖ·ûÄ·üí·ûì·ûª·ûÑ·ûî·üí·ûö·ûè·û∑·ûë·û∑·ûì!
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Hero Section -->
        <section class="hero">
            <h1 class="title-khmer">·ûü·û∑·ûö·û∏·ûò·ûÑ·üí·ûÇ·ûõ·ûñ·û∑·ûí·û∏·û¢·û∂·ûñ·û∂·û†·üç·ûñ·û∑·ûñ·û∂·û†·üç</h1>

            <h2 class="couple-names">
                ·ûò·ûª·ûè ·ûö·üâ·û∂·ûå·û∏ <br>
                <img src="images/2hearts.gif" class="hearts-gif" alt="">
                no name
            </h2>

            <h3 class="english-names"> ·ûü·ûº·ûò·ûÇ·üÑ·ûö·ûñ·û¢·ûâ·üí·ûá·ûæ·ûâ </h3>

            <div class="decorative-frame"></div>
            <p class="date-text">
                ·ûê·üí·ûÑ·üÉ·ûü·ûª·ûÄ·üí·ûö ·ûë·û∏30 ·ûÅ·üÇ·ûò·ûÄ·ûö·û∂ ·ûÜ·üí·ûì·û∂·üÜ·ü¢·ü†·ü¢·ü¶<br>
                ·ûÉ·ûª·üÜ·ûö·ûõ·ûΩ·ûü ·ûü·üí·ûö·ûª·ûÄ·ûî·üí·ûö·û∂·ûü·û∂·ûë·ûî·û∂·ûÇ·ûÑ<br>
                <button class="calendar-btn" id="calendarBtn">
                    <span>üìÖ</span> Add to calender
                </button>
            </p>
        </section>

        <!-- Centered Decorative Border Section -->
        <section class="centered-border-section">
            <div class="border-container">
                <img src="images/decor-header.png" alt="Decorative Header" class="border-top-img">

                <div class="border-content">
                    <p class="border-text">
                    <p class="border-text-font-f">·ûô·ûæ·ûÑ·ûÅ·üí·ûâ·ûª·üÜ·ûò·û∂·ûì·ûÄ·û∑·ûè·üí·ûè·û∑·ûô·ûü·ûü·ûº·ûò·ûÇ·üÑ·ûö·ûñ·û¢·ûâ·üí·ûá·ûæ·ûâ</p>

                    <p‚Äã class="border-text-font-f1">·ûØ·ûÄ·ûß·ûè·üí·ûè·ûò ·ûõ·üÑ·ûÄ·ûß·ûè·üí·ûè·ûâ·üã ·ûõ·üÑ·ûÄ·ûá·üÜ·ûë·û∂·üÜ·ûÑ ·ûõ·üÑ·ûÄ·ûõ·üÑ·ûÄ·ûü·üí·ûö·û∏
                        ·û¢·üí·ûì·ûÄ·ûì·û∂·ûÑ·ûÄ·ûâ·üí·ûâ·û∂ ·û¢·üÅ·ûâ·üí·ûá·û∏·ûâ·ûÖ·ûº·ûõ·ûö·ûΩ·ûò·ûá·û∂
                        ·û¢·ûí·û∑·ûî·ûè·üí·ûè·û∑ ·ûì·û∑·ûÑ·ûá·û∂·ûü·üí·ûö·ûª·ûÄ·ûÄ·û∑·ûè·üí·ûè·û∑·ûô·ûü <br>
                        ·ûä·ûæ·ûò·üí·ûî·û∏·ûî·üí·ûö·ûü·û∑·ûë·üí·ûí·û∑·ûñ·ûö·ûá·üê·ûô ·ûü·û∏·ûú·û∑·ûü·üí·ûè·ûü·ûè·û∏ ·ûá·üê·ûô·ûò·ûÑ·üí·ûÇ·ûõ ·ûÄ·üí·ûì·ûª·ûÑ<br>
                        ·ûñ·û∑·ûí·û∏·ûü·û∑·ûö·û∏·ûò·ûÑ·üí·ûÇ·ûõ·ûñ·û∑·ûí·û∏·û¢·û∂·ûñ·û∂·û†·üç·ûñ·û∑·ûñ·û∂·û†·üç ·ûö·ûî·ûü·üã·ûô·ûæ·ûÑ·ûÅ·üí·ûâ·ûª·üÜ·ûë·û∂·üÜ·ûÑ·ûñ·û∏·ûö·üî
                        </p>


                        </p>
                </div>

                <img src="images/decor-footer.png" alt="Decorative Footer" class="border-bottom-img">
            </div>
        </section>

        <!-- Engagement Photo Section -->
        <section class="engagement-section">
            <h2 class="title-khmer">·ûö·ûº·ûî·ûó·û∂·ûñ·ûó·üí·ûá·û∂·ûî·üã·ûñ·û∂·ûÄ·üí·ûô</h2>
            <svg class="engagement-photo" viewBox="0 0 400 500" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#f5f0eb" />
                        <stop offset="100%" style="stop-color:#e8ddd0" />
                    </linearGradient>
                </defs>
                <rect width="400" height="500" fill="url(#bg)" />

                <!-- Hands -->
                <ellipse cx="150" cy="300" rx="60" ry="80" fill="#fdd9b5" opacity="0.9" />
                <ellipse cx="250" cy="300" rx="60" ry="80" fill="#fdd9b5" opacity="0.9" />

                <!-- Ring -->
                <circle cx="200" cy="280" r="25" fill="none" stroke="#d4a574" stroke-width="8" />
                <circle cx="200" cy="280" r="20" fill="none" stroke="#d4a574" stroke-width="3" />
                <circle cx="200" cy="265" r="8" fill="white" opacity="0.9" />
                <circle cx="195" cy="270" r="4" fill="white" opacity="0.7" />
                <circle cx="205" cy="270" r="4" fill="white" opacity="0.7" />

                <!-- Flowers -->
                <g transform="translate(80, 420)">
                    <circle cx="0" cy="0" r="15" fill="white" opacity="0.9" />
                    <circle cx="-8" cy="-8" r="12" fill="white" opacity="0.8" />
                    <circle cx="8" cy="-8" r="12" fill="white" opacity="0.8" />
                </g>
                <g transform="translate(320, 420)">
                    <circle cx="0" cy="0" r="15" fill="white" opacity="0.9" />
                    <circle cx="-8" cy="-8" r="12" fill="white" opacity="0.8" />
                    <circle cx="8" cy="-8" r="12" fill="white" opacity="0.8" />
                </g>
            </svg>
        </section>
    </div>

    <!-- Music Control -->
    <div class="music-control" id="musicControl"></div>

    <!-- Audio Element -->
    <audio id="backgroundMusic" loop>
        <!-- You need to add your wedding.mp3 file in images folder -->
        <source src="images/wedding.mp3" type="audio/mpeg">
    </audio>

    <script>
        // Welcome Screen & Music
        const welcomeScreen = document.getElementById('welcomeScreen');
        const mainContent = document.getElementById('mainContent');
        const music = document.getElementById('backgroundMusic');
        const musicControl = document.getElementById('musicControl');
        const successMessage = document.getElementById('successMessage');
        let musicPlaying = false;

        // Device Detection
        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
        const isAndroid = /Android/.test(navigator.userAgent);
        const isMobile = /Mobi|Android/i.test(navigator.userAgent);

        welcomeScreen.addEventListener('click', function () {
            welcomeScreen.classList.add('hidden');
            setTimeout(() => {
                mainContent.classList.add('visible');
                welcomeScreen.style.display = 'none';
            }, 1000);

            // Try to play music
            music.play().then(() => {
                musicPlaying = true;
            }).catch(err => {
                console.log('Autoplay prevented:', err);
            });
        });

        // Music Control Toggle
        musicControl.addEventListener('click', function () {
            if (musicPlaying) {
                music.pause();
                musicControl.classList.add('paused');
                musicPlaying = false;
            } else {
                music.play();
                musicControl.classList.remove('paused');
                musicPlaying = true;
            }
        });

        // Show Success Message
        function showSuccessMessage() {
            successMessage.style.display = 'flex';
            setTimeout(() => {
                successMessage.style.animation = 'slideOut 0.3s ease forwards';
                setTimeout(() => {
                    successMessage.style.display = 'none';
                    successMessage.style.animation = '';
                }, 300);
            }, 3000);
        }

        // Universal Calendar Function - Works on iOS, Android, and Desktop
        function addToCalendar() {
            // Create event details
            const eventDetails = {
                title: '·ûñ·û∑·ûí·û∏·û¢·û∂·ûñ·û∂·û†·üç·ûñ·û∑·ûñ·û∂·û†·üç - Wedding Ceremony',
                description: '·ûü·ûº·ûò·û¢·ûâ·üí·ûá·ûæ·ûâ·ûÖ·ûº·ûõ·ûö·ûΩ·ûò·ûñ·û∑·ûí·û∏·û¢·û∂·ûñ·û∂·û†·üç·ûñ·û∑·ûñ·û∂·û†·üç\nWedding Ceremony\nTime: 5:00 PM',
                location: 'Siem Reap, Cambodia',
                startTime: '2026-01-30T11:00:00Z', // 6:00 PM Cambodia time (UTC+7)
                endTime: '2026-01-31T14:00:00Z',   // 9:00 PM Cambodia time
                timeZone: 'Asia/Phnom_Penh'
            };

            // Try multiple methods in order of preference
            let eventAdded = false;

            // Method 1: Try to open directly in Google Calendar (works on Android and iOS)
            try {
                const googleCalendarUrl = createGoogleCalendarLink();
                window.open(googleCalendarUrl, '_blank');
                eventAdded = true;
            } catch (e) {
                console.log('Google Calendar method failed:', e);
            }


            // Method 2: Create and download ICS file (works on iOS and Desktop)
            if (!eventAdded) {
                try {
                    downloadICSFile(eventDetails);
                    eventAdded = true;
                } catch (e) {
                    console.log('ICS download method failed:', e);
                }
            }

            // Method 3: Try Web Share API (for mobile devices that support it)
            if (navigator.share && !eventAdded) {
                try {
                    navigator.share({
                        title: eventDetails.title,
                        text: eventDetails.description,
                        url: generateGoogleCalendarUrl(eventDetails)
                    });
                    eventAdded = true;
                } catch (e) {
                    console.log('Web Share API failed:', e);
                }
            }

            // Method 4: Fallback - show instructions
            if (!eventAdded) {
                showCalendarInstructions(eventDetails);
            }

            // Show success message
            if (eventAdded) {
                showSuccessMessage();
            }
        }

        // Generate Google Calendar URL
        function createGoogleCalendarLink() {
            const eventTitle = encodeURIComponent('·ûñ·û∑·ûí·û∏·û¢·û∂·ûñ·û∂·û†·üç·ûñ·û∑·ûñ·û∂·û†·üç - Wedding Ceremony');
            const eventDate = '20260130'; // November 17, 2025
            const startTime = '170000'; // 11:00 AM UTC (6:00 PM Cambodia Time UTC+7)
            const endTime = '190000'; // 2:00 PM UTC (9:00 PM Cambodia Time UTC+7)
            const location = encodeURIComponent('Siem Reap, Cambodia');
            const details = encodeURIComponent('·ûü·ûº·ûò·û¢·ûâ·üí·ûá·ûæ·ûâ·ûÖ·ûº·ûõ·ûö·ûΩ·ûò·ûñ·û∑·ûí·û∏·û¢·û∂·ûñ·û∂·û†·üç·ûñ·û∑·ûñ·û∂·û†·üç\nWedding Ceremony\nTime: 6:00 PM');
            return `https://www.google.com/calendar/render?action=TEMPLATE&text=${eventTitle}&dates=${eventDate}T${startTime}/${eventDate}T${endTime}&location=${location}&details=${details}&sf=true&output=xml`;
        }

        // Format date for Google Calendar
        function formatDateForGoogle(dateString) {
            const date = new Date(dateString);
            return date.toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';
        }

        // Download ICS file
        function downloadICSFile(details) {
            const icsContent = generateICSContent(details);

            // Create blob
            const blob = new Blob([icsContent], {
                type: 'text/calendar;charset=utf-8'
            });

            // Create URL
            const url = URL.createObjectURL(blob);

            // Create download link
            const link = document.createElement('a');
            link.href = url;
            link.download = 'wedding-invitation.ics';

            // Append to body, click, and remove
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);

            // Clean up URL
            setTimeout(() => URL.revokeObjectURL(url), 1000);
        }

        // Generate ICS content
        function generateICSContent(details) {
            return `BEGIN:VCALENDAR VERSION:2.0 PRODID:-//Wedding//Invitation//EN CALSCALE:GREGORIAN BEGIN:VEVENT UID:wedding-2026130@example.com DTSTAMP:20260131T000000Z ORGANIZER;CN=Wedding Committee:MAILTO:wedding@example.com DTSTART:20260131T110000Z DTEND:20260131T140000Z SUMMARY:·ûñ·û∑·ûí·û∏·û¢·û∂·ûñ·û∂·û†·üç·ûñ·û∑·ûñ·û∂·û†·üç DESCRIPTION:·ûü·ûº·ûò·û¢·ûâ·üí·ûá·ûæ·ûâ·ûÖ·ûº·ûõ·ûö·ûΩ·ûò·ûñ·û∑·ûí·û∏·û¢·û∂·ûñ·û∂·û†·üç·ûñ·û∑·ûñ·û∂·û†·üç\\nWedding Ceremony\\nTime: 6:00 PM Cambodia Time LOCATION:Siem Reap\\, Cambodia STATUS:CONFIRMED SEQUENCE:0 BEGIN:VALARM ACTION:DISPLAY TRIGGER:-PT24H DESCRIPTION:·ûñ·û∑·ûí·û∏·û¢·û∂·ûñ·û∂·û†·üç·ûñ·û∑·ûñ·û∂·û†·üç·ûì·üÖ·ûê·üí·ûÑ·üÉ·ûü·üí·û¢·üÇ·ûÄ END:VALARM BEGIN:VALARM ACTION:DISPLAY TRIGGER:-PT1H DESCRIPTION:·ûñ·û∑·ûí·û∏·û¢·û∂·ûñ·û∂·û†·üç·ûñ·û∑·ûñ·û∂·û†·üç·ûì·üÖ·ûÄ·üí·ûì·ûª·ûÑ·ûò·ûΩ·ûô·ûò·üâ·üÑ·ûÑ END:VALARM END:VEVENT END:VCALENDAR`;
        }

        // Format date for ICS
        function formatDateForICS(dateString) {
            const date = new Date(dateString);
            return date.toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';
        }

        // Show calendar instructions (fallback)
        function showCalendarInstructions(details) {
            const message = `
·ûü·ûº·ûò·ûî·ûâ·üí·ûÖ·ûº·ûõ·ûñ·üí·ûö·ûπ·ûè·üí·ûè·û∑·ûÄ·û∂·ûö·ûé·üç·ûì·üÅ·üá·ûë·üÖ·ûÄ·üí·ûì·ûª·ûÑ·ûî·üí·ûö·ûè·û∑·ûë·û∑·ûì·ûö·ûî·ûü·üã·û¢·üí·ûì·ûÄ·üñ

·ûÄ·û∂·ûõ·ûî·ûö·û∑·ûÖ·üí·ûÜ·üÅ·ûë·üñ 30 ·ûò·ûÄ·ûö·û∂ ·ü¢·ü†·ü¢·ü¶
·ûñ·üÅ·ûõ·ûú·üÅ·ûõ·û∂·üñ ·ü•:·ü†·ü† ·ûõ·üí·ûÑ·û∂·ûÖ
·ûë·û∏·ûè·û∂·üÜ·ûÑ·üñ Siem Reap

·ûü·ûº·ûò·ûÖ·ûò·üí·ûõ·ûÑ·ûñ·üê·ûè·üå·ûò·û∂·ûì·ûì·üÅ·üá ·ûì·û∑·ûÑ·ûî·ûâ·üí·ûÖ·ûº·ûõ·ûä·üÑ·ûô·ûÅ·üí·ûõ·ûΩ·ûì·ûØ·ûÑ·ûë·üÖ·ûÄ·üí·ûì·ûª·ûÑ·ûÄ·ûò·üí·ûò·ûú·û∑·ûí·û∏·ûî·üí·ûö·ûè·û∑·ûë·û∑·ûì·üî
            `;

            alert(message);
        }

        // Calendar Button Event Listener
        document.getElementById('calendarBtn').addEventListener('click', function (e) {
            e.preventDefault();
            addToCalendar();
        });

        // Touch improvements for mobile
        document.getElementById('calendarBtn').addEventListener('touchstart', function () {
            this.style.transform = 'translateY(-1px)';
        });

        document.getElementById('calendarBtn').addEventListener('touchend', function () {
            this.style.transform = '';
        });

        // Scroll animations
        function revealOnScroll() {
            const elements = document.querySelectorAll('.date-box, .engagement-photo');
            elements.forEach(el => {
                const windowHeight = window.innerHeight;
                const elementTop = el.getBoundingClientRect().top;
                const revealPoint = 150;

                if (elementTop < windowHeight - revealPoint) {
                    el.style.opacity = '1';
                    el.style.transform = 'translateY(0)';
                }
            });
        }

        // Initial reveal
        window.addEventListener('load', revealOnScroll);
        window.addEventListener('scroll', revealOnScroll);

        // Prevent long press on button
        document.addEventListener('contextmenu', function (e) {
            if (e.target.id === 'calendarBtn') {
                e.preventDefault();
            }
        });
    </script>
</body>

</html>
